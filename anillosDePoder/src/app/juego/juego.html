<div class="juego-container">
  <div *ngIf="juegoFinalizado">
    <p-card [header]="mensajeFinal" styleClass="text-center shadow-4">
      <p class="text-xl mb-4">
        Has conseguido <strong>{{ partidaActual?.puntuacion }}</strong> aciertos.
      </p>

      <p-button
        label="Jugar de nuevo"
        icon="pi pi-refresh"
        severity="warning"
        (onClick)="empezarNuevaPartida()"
      >
      </p-button>
    </p-card>
  </div>

  <div *ngIf="!juegoFinalizado && preguntaActual">
    <p-card [header]="preguntaActual.pregunta" styleClass="text-center shadow-4">
      <ng-template pTemplate="subtitle">
        Aciertos:
        <span style="font-size: 1.2em; font-weight: bold; color: #d4af37">{{
          partidaActual?.puntuacion
        }}</span>
        / 5
      </ng-template>

      <div class="respuestas-grid">
        <p-button
          [label]="preguntaActual.respuesta1"
          severity="secondary"
          [outlined]="true"
          (onClick)="responder(1)"
        ></p-button>
        <p-button
          [label]="preguntaActual.respuesta2"
          severity="secondary"
          [outlined]="true"
          (onClick)="responder(2)"
        ></p-button>
        <p-button
          [label]="preguntaActual.respuesta3"
          severity="secondary"
          [outlined]="true"
          (onClick)="responder(3)"
        ></p-button>
        <p-button
          [label]="preguntaActual.respuesta4"
          severity="secondary"
          [outlined]="true"
          (onClick)="responder(4)"
        ></p-button>
      </div>
    </p-card>
  </div>

  <div *ngIf="!juegoFinalizado && !preguntaActual" class="cargando">
    <p-progressSpinner ariaLabel="Cargando"></p-progressSpinner>
    <p style="margin-top: 1rem">Cargando los pergaminos de la Tierra Media...</p>
  </div>
</div>
